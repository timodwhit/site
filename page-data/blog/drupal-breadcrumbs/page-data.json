{"componentChunkName":"component---src-templates-post-js","path":"/blog/drupal-breadcrumbs/","result":{"data":{"site":{"siteMetadata":{"title":"Tim Whitney"}},"markdownRemark":{"id":"21ce7989-135b-54cb-bb4b-02846f96431f","excerpt":"There are some great posts about breadcrumbs in Drupal 8: Drupal 8 Breadcrumbs - Add the Current Page - Greg Boggs D8FTW: Breadcrumbs That Work But both of…","html":"<p>There are some great posts about breadcrumbs in Drupal 8:</p>\n<ul>\n<li><a href=\"http://www.gregboggs.com/drupal8-breadcrumbs/\">Drupal 8 Breadcrumbs - Add the Current Page - Greg Boggs</a></li>\n<li><a href=\"https://www.palantir.net/blog/d8ftw-breadcrumbs-work\">D8FTW: Breadcrumbs That Work</a></li>\n</ul>\n<p>But both of these articles are missing a critical piece: The path system drives\nthe breadcrumbs.</p>\n<p>Let's say we have two nodes: Node1 and Node2. In all the menus Node2 is nested under Node1… but in the breadcrumbs only “Home” shows. Por que? That is because the menus are no longer dictating the magic of breadcrumbs, the paths are.</p>\n<p>Thus, if Node1 has the alias /node1 and Node2 has an alias of /node2, the breadcrumbs won’t nest. However, if Node2 has an alias of /node1/node2 the breadcrumbs will display as nested. On Node2, you’ll be presented with “Home >> Node1”.</p>\n<p>Further Things: (<a href=\"https://www.drupal.org/node/743366\">https://www.drupal.org/node/743366</a>)</p>\n<p>Helpful snippet for breadcrumb.</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token keyword\">function</span> <span class=\"token function\">THEMENAME_preprocess_breadcrumb</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token variable\">$variables</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Remove \"Home\" link and add custom prepended links.</span>\n  <span class=\"token variable\">$breadcrumbs</span> <span class=\"token operator\">=</span> <span class=\"token function\">array_shift</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$variables</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'breadcrumb'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">array_unshift</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$variables</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'breadcrumb'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span>\n      <span class=\"token single-quoted-string string\">'text'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token function\">t</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'Site'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token single-quoted-string string\">'url'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token single-quoted-string string\">'http://example.com'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span>\n      <span class=\"token single-quoted-string string\">'text'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token single-quoted-string string\">'Drupal Subsite'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token single-quoted-string string\">'url'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token single-quoted-string string\">'/'</span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// Add current title of page.</span>\n  <span class=\"token variable\">$request</span> <span class=\"token operator\">=</span> \\<span class=\"token package\">Drupal</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">request</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token variable\">$route_match</span> <span class=\"token operator\">=</span> \\<span class=\"token package\">Drupal</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">routeMatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token variable\">$page_title</span> <span class=\"token operator\">=</span> \\<span class=\"token package\">Drupal</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">service</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'title_resolver'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">getTitle</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$request</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$route_match</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">getRouteObject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token variable\">$variables</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'breadcrumb'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span>\n    <span class=\"token single-quoted-string string\">'text'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token variable\">$page_title</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","frontmatter":{"title":"Bread Crumbs in Drupal 8 are Path Driven.","date":"September 22, 2016","description":"That's essentially it."}}},"pageContext":{"slug":"/blog/drupal-breadcrumbs/"}},"staticQueryHashes":["3649515864","712016698"]}